---
postgresql_databases: [petclinic, db2]

postgresql_users:
  - { db: petclinic, name: petclinic, password: "{{ vault_postgresql_vincent_password }}" }
  - { db: db2, name: foobar,  password: "{{ vault_postgresql_foobar_password }}"  }

postgresql_schemas:
  - { db: petclinic, name: petclinic, owner: petclinic }
  - { db: db2, name: foobar,  owner: foobar  }

postgresql_privs:
  - { db: petclinic, roles: petclinic, privs: ALL, type: database }
  - { db: db2, roles: foobar,  privs: ALL, type: database }

postgresql_hba_entries:
  - { contype: local, databases: all, users: all,                        method: peer          }
  - { contype: host,  databases: petclinic, users: petclinic,  address: samenet, method: scram-sha-256 }
  - { contype: host,  databases: db2, users: foobar,   address: samenet, method: scram-sha-256 }

postgresql_extensions:
  - { db: petclinic, name: hstore }
